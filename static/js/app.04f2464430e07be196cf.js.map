{"version":3,"sources":["webpack:///static/js/app.04f2464430e07be196cf.js","webpack:///./~/bootstrap-vue/es/components/modal/modal.vue?689e","webpack:///./src/components/Echo.vue","webpack:///./src/components/ProgressBar.vue?b5cc","webpack:///./src/pages/HomePage.vue?5557","webpack:///./~/vue-keyboard/src/keyboard.vue?46fc","webpack:///./src/pages/HomePage.vue?7fd4","webpack:///./~/vue-keyboard/src/keyboard.vue?558d","webpack:///./src/components/ProgressBar.vue?cd2a","webpack:///./src/App.vue?0ee6","webpack:///./src/components/Echo.vue?c83f","webpack:///./src/router/index.js","webpack:///./src/store/index.js","webpack:///./src/App.vue?fc6a","webpack:///./src/main.js","webpack:///./src/store/multi.js","webpack:///modal.vue","webpack:///keyboard.vue","webpack:///App.vue","webpack:///Echo.vue","webpack:///ProgressBar.vue","webpack:///HomePage.vue"],"names":["webpackJsonp","105","module","exports","106","107","108","109","110","116","__webpack_require__","Component","117","118","119","120","121","render","_vm","this","_h","$createElement","_c","_self","attrs","percent","currentProgressPercent","_v","staticClass","_l","numbers","number","key","id","text","value","as-class","class","layouts","maxlength","on","input","changed","model","callback","$$v","expression","ref","hide-footer","hide-header","centered","title","_s","modalText","variant","block","click","hideModal","src","staticRenderFns","122","full","empty","valid","invalid","role","data-value","data-layout","layout","row","data-keys","length","btn","type","data-args","args","data-text","data-action","action","name","$event","preventDefault","callable","123","style","124","increment-level","incrementLevel","current-data","currentData","set-data","setData","125","mode","asClass","28","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_vue_router__","__WEBPACK_IMPORTED_MODULE_2__pages_HomePage__","__WEBPACK_IMPORTED_MODULE_2__pages_HomePage___default","n","use","routes","path","component","a","props","29","__WEBPACK_IMPORTED_MODULE_0_vuex__","__WEBPACK_IMPORTED_MODULE_1_vue__","__WEBPACK_IMPORTED_MODULE_2__multi__","Store","modules","multi","31","34","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default","__WEBPACK_IMPORTED_MODULE_2_vuex_router_sync__","__WEBPACK_IMPORTED_MODULE_3_vue_localstorage__","__WEBPACK_IMPORTED_MODULE_3_vue_localstorage___default","__WEBPACK_IMPORTED_MODULE_4__App__","__WEBPACK_IMPORTED_MODULE_4__App___default","__WEBPACK_IMPORTED_MODULE_5__router__","__WEBPACK_IMPORTED_MODULE_6__store_index__","i","config","productionTip","createComputed","el","router","store","template","components","App","data","currentLevel","stats","fill","call","watch","val","$ls","set","values","push","join","created","self","Number","get","split","methods","forEach","35","generateNumber","state","arguments","undefined","max","randomLevel","lnRandomScaled","console","log","actualLevel","n1","n2","randomIntegerWeighted","doRandomSwap","n31","Math","floor","n32","normalRandom","u","v","s","mul","spareRandom","random","sqrt","normalRandomInRange","min","gmean","r","iteration","exp","randomInteger","rand","j","tmp","complexity","position","lastNumbers","actions","generateTask","_ref","commit","maxLevel","mutations","generate_task","params","NUMBERS","correctValue","POSITION","getters","getNumbers","getComplexity","getPosition","36","__WEBPACK_IMPORTED_MODULE_0__modal__","37","Tokens","PIPE","OPEN_BRACE","CLOSE_BRACE","String","default","Array","required","validator","pattern","computed","lines","isArray","replace","buttons","_this","map","line","stream","match","RegExp","token","char","command","method","indexOf","bind","$emit","toLowerCase","append","mutate","slice","backspace","space","goto","Error","clear","38","Function","39","loop","from","to","vm","setTimeout","mounted","40","styleObject","maxWidth","minWidth","width","41","readSessionDataThenGenerateTask","session","level","checkSum","actualCheckSum","checksum","MAX_LEVELS","progress","str","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","chk","len","charCodeAt","toString","rewriteLocation","string","getStats","window","location","valueChange","POSSIBLE_KEYS","DELETE_KEYS","includes","elem","UNDEFINED","check","isTrueAnswer","$refs","play","complete","error","newValue","CORRECTNESS_RATIO","timDiff","Date","getTime","startTime","tries","errorState","progressUp","errorsInSequence","COOLDOWN","revertLater","errors","COOLDOWN_REVERT","round","multiplier","MAX_TIME","BONUS_TIME","levelUpIfNeeded","maxProgress","LEVELS","showModal","ended","started","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default","__WEBPACK_IMPORTED_MODULE_2_vuex__","__WEBPACK_IMPORTED_MODULE_3_vue_keyboard__","__WEBPACK_IMPORTED_MODULE_3_vue_keyboard___default","__WEBPACK_IMPORTED_MODULE_4__components_Echo__","__WEBPACK_IMPORTED_MODULE_4__components_Echo___default","__WEBPACK_IMPORTED_MODULE_5__components_ProgressBar__","__WEBPACK_IMPORTED_MODULE_5__components_ProgressBar___default","__WEBPACK_IMPORTED_MODULE_6_bootstrap_vue_es_directives_modal_modal__","__WEBPACK_IMPORTED_MODULE_7_bootstrap_vue_es_components_button_button__","__WEBPACK_IMPORTED_MODULE_8_bootstrap_vue_es_components_modal_modal__","MAX_PROGRESS","reduce","b","Echo","Keyboard","ProgressBar","b-modal","b-btn","directives","currentProgress","index","pressed","myModalRef","show","hide","scrollTo","document","body","scrollHeight","addEventListener","event"],"mappings":"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","file":"static/js/app.04f2464430e07be196cf.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 105:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 106:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 107:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 108:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 109:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 110:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 116:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(106)\n\nvar Component = __webpack_require__(4)(\n  /* script */\n  __webpack_require__(36),\n  /* template */\n  null,\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 117:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(110)\n\nvar Component = __webpack_require__(4)(\n  /* script */\n  __webpack_require__(39),\n  /* template */\n  __webpack_require__(125),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 118:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(108)\n\nvar Component = __webpack_require__(4)(\n  /* script */\n  __webpack_require__(40),\n  /* template */\n  __webpack_require__(123),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 119:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(105)\n\nvar Component = __webpack_require__(4)(\n  /* script */\n  __webpack_require__(41),\n  /* template */\n  __webpack_require__(121),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 120:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(107)\n\nvar Component = __webpack_require__(4)(\n  /* script */\n  __webpack_require__(37),\n  /* template */\n  __webpack_require__(122),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 121:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('main', [_c('progress-bar', {\n    attrs: {\n      \"percent\": _vm.currentProgressPercent\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"echo\"\n  }, [_vm._l((_vm.numbers[0]), function(number) {\n    return _c('echo', {\n      key: number.id,\n      attrs: {\n        \"text\": number.value,\n        \"as-class\": number.class\n      }\n    })\n  }), _c('span', {\n    staticClass: \"sign\"\n  }, [_vm._v(\"×\")]), _vm._l((_vm.numbers[1]), function(number) {\n    return _c('echo', {\n      key: number.id,\n      attrs: {\n        \"text\": number.value,\n        \"as-class\": number.class\n      }\n    })\n  }), _c('span', {\n    staticClass: \"sign\"\n  }, [_vm._v(\"=\")]), _vm._l((_vm.numbers[2]), function(number) {\n    return _c('echo', {\n      key: number.id,\n      attrs: {\n        \"text\": number.value,\n        \"as-class\": number.class\n      }\n    })\n  })], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"keyboard\"\n  }, [_c('keyboard', {\n    attrs: {\n      \"layouts\": \"12345|67890\",\n      \"maxlength\": 2\n    },\n    on: {\n      \"input\": _vm.changed\n    },\n    model: {\n      value: (_vm.input),\n      callback: function($$v) {\n        _vm.input = $$v\n      },\n      expression: \"input\"\n    }\n  })], 1), _vm._v(\" \"), _c('b-modal', {\n    ref: \"myModalRef\",\n    staticClass: \"clear\",\n    attrs: {\n      \"hide-footer\": \"\",\n      \"hide-header\": \"\",\n      \"centered\": \"\",\n      \"title\": \"\"\n    }\n  }, [_c('div', {\n    staticClass: \"d-block text-center\"\n  }, [_c('h3', [_vm._v(_vm._s(_vm.modalText))])]), _vm._v(\" \"), _c('b-btn', {\n    staticClass: \"mt-3\",\n    attrs: {\n      \"variant\": \"outline-secondary\",\n      \"block\": \"\"\n    },\n    on: {\n      \"click\": _vm.hideModal\n    }\n  }, [_vm._v(\"Продолжить\")])], 1), _vm._v(\" \"), _c('audio', {\n    ref: \"audioOk\",\n    attrs: {\n      \"src\": \"./static/sounds/ok.wav\"\n    }\n  }), _vm._v(\" \"), _c('audio', {\n    ref: \"audioErr\",\n    attrs: {\n      \"src\": \"./static/sounds/err.wav\"\n    }\n  })], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 122:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('aside', {\n    staticClass: \"vue-keyboard\",\n    class: {\n      full: _vm.full, empty: _vm.empty, valid: _vm.valid, invalid: !_vm.valid\n    },\n    attrs: {\n      \"role\": \"application\",\n      \"data-value\": _vm.value,\n      \"data-layout\": _vm.layout\n    }\n  }, _vm._l((_vm.buttons), function(row) {\n    return _c('div', {\n      staticClass: \"vue-keyboard-row\",\n      attrs: {\n        \"role\": \"row\",\n        \"data-keys\": row.length\n      }\n    }, _vm._l((row), function(btn) {\n      return _c('button', {\n        staticClass: \"vue-keyboard-key\",\n        class: btn.type,\n        attrs: {\n          \"role\": \"button\",\n          \"data-args\": btn.args,\n          \"data-text\": btn.value,\n          \"data-action\": btn.action.name\n        },\n        on: {\n          \"click\": function($event) {\n            $event.preventDefault();\n            btn.action.callable($event)\n          }\n        }\n      }, [_vm._v(_vm._s(btn.value))])\n    }))\n  }))\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 123:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('header', [_c('div', {\n    attrs: {\n      \"id\": \"progressBar\"\n    }\n  }, [_c('div', {\n    style: (_vm.styleObject)\n  })])])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 124:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"app\"\n  }, [_c('div', {\n    staticClass: \"page\"\n  }, [_c('router-view', {\n    attrs: {\n      \"increment-level\": _vm.incrementLevel,\n      \"current-data\": _vm.currentData,\n      \"set-data\": _vm.setData\n    }\n  })], 1)])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 125:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('transition', {\n    attrs: {\n      \"name\": \"fade\",\n      \"mode\": \"out-in\"\n    }\n  }, [_c('span', {\n    class: _vm.asClass\n  }, [_vm._v(_vm._s(_vm.value))])])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 28:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(126);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_HomePage__ = __webpack_require__(119);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_HomePage___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__pages_HomePage__);\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  routes: [{\n    path: '/',\n    name: 'home',\n    component: __WEBPACK_IMPORTED_MODULE_2__pages_HomePage___default.a\n  }, {\n    path: '/:session',\n    name: 'session',\n    component: __WEBPACK_IMPORTED_MODULE_2__pages_HomePage___default.a,\n    props: true\n  }]\n}));\n\n/***/ }),\n\n/***/ 29:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vuex__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__multi__ = __webpack_require__(35);\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_1_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_0_vuex__[\"c\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_0_vuex__[\"c\" /* default */].Store({\n  modules: {\n    multi: __WEBPACK_IMPORTED_MODULE_2__multi__[\"a\" /* default */]\n  }\n}));\n\n/***/ }),\n\n/***/ 31:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(109)\n\nvar Component = __webpack_require__(4)(\n  /* script */\n  __webpack_require__(38),\n  /* template */\n  __webpack_require__(124),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 34:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__ = __webpack_require__(30);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vuex_router_sync__ = __webpack_require__(33);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vuex_router_sync___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_vuex_router_sync__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vue_localstorage__ = __webpack_require__(32);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vue_localstorage___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_vue_localstorage__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__App__ = __webpack_require__(31);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__App__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__router__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__store_index__ = __webpack_require__(29);\n\n\n\n\n\n\n\n\n\n__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_vuex_router_sync__[\"sync\"])(__WEBPACK_IMPORTED_MODULE_6__store_index__[\"a\" /* default */], __WEBPACK_IMPORTED_MODULE_5__router__[\"a\" /* default */]);\n\n__WEBPACK_IMPORTED_MODULE_1_vue__[\"a\" /* default */].config.productionTip = false;\n\n__WEBPACK_IMPORTED_MODULE_1_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_3_vue_localstorage___default.a, {\n  name: 'ls',\n  createComputed: true });\n\nnew __WEBPACK_IMPORTED_MODULE_1_vue__[\"a\" /* default */]({\n  el: '#app',\n  router: __WEBPACK_IMPORTED_MODULE_5__router__[\"a\" /* default */],\n  store: __WEBPACK_IMPORTED_MODULE_6__store_index__[\"a\" /* default */],\n  template: '<App :increment-level=\"incrementLevel\" :current-data=\"currentData\" :set-data=\"setData\" />',\n  components: { App: __WEBPACK_IMPORTED_MODULE_4__App___default.a },\n  data: function data() {\n    return {\n      currentLevel: 0,\n      stats: [].fill.call({ length: 10 }, 0)\n    };\n  },\n  watch: {\n    currentLevel: function currentLevel(val) {\n      this.$ls.set('currentLevel', val);\n    },\n    stats: function stats(val) {\n      var values = [];\n\n      for (var i = 0; i < 10; i++) {\n        values.push(val[i] || 0);\n      }\n\n      this.$ls.set('stats', values.join(','));\n    }\n  },\n  created: function created() {\n    var self = this;\n\n    self.currentLevel = Number(self.$ls.get('currentLevel', 0));\n\n    var stats = self.$ls.get('stats', '0,0,0,0,0,0,0,0,0,0').split(',');\n    for (var i = 0; i < 10; i++) {\n      self.stats[i] = stats[i];\n    }\n  },\n  methods: {\n    incrementLevel: function incrementLevel() {\n      this.currentLevel++;\n    },\n    setData: function setData(data) {\n      var self = this;\n\n      __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(data).forEach(function (key) {\n        self[key] = data[key];\n      });\n    },\n    currentData: function currentData() {\n      var self = this;\n\n      return {\n        currentLevel: self.currentLevel,\n        stats: self.stats\n      };\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 35:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar UNDEFINED = '…';\n\nvar state = {\n  numbers: [],\n  complexity: 0,\n  position: [0, 1],\n  actualLevel: 0,\n  lastNumbers: {\n    n1: 0,\n    n2: 0\n  }\n};\n\nvar actions = {\n  generateTask: function generateTask(_ref) {\n    var commit = _ref.commit;\n    var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { currentLevel: 0, maxLevel: 0, stats: [] };\n\n    commit('generate_task', params);\n  }\n};\n\nvar mutations = {\n  generate_task: function generate_task(state, params) {\n    var n = generateNumber(state, params.currentLevel, params.maxLevel, params.stats);\n\n    while (n.n1 === state.lastNumbers.n1 && n.n2 === state.lastNumbers.n2 || n.n1 === state.lastNumbers.n2 && n.n2 === state.lastNumbers.n1) {\n      n = generateNumber(state, params.currentLevel, params.maxLevel, params.stats);\n    }\n\n    console.log(n.n1, 'x', n.n2);\n\n    state.lastNumbers.n1 = n.n1;\n    state.lastNumbers.n2 = n.n2;\n\n    var NUMBERS = [[{\n      id: 'n00',\n      value: '',\n      correctValue: '',\n      class: 'empty'\n    }, {\n      id: 'n11',\n      value: n.n1 + '' || '',\n      correctValue: '',\n      class: null\n    }, {\n      id: 'n02',\n      value: '',\n      correctValue: '',\n      class: 'empty'\n    }], [{\n      id: 'n10',\n      value: '',\n      correctValue: '',\n      class: 'empty'\n    }, {\n      id: 'n11',\n      value: n.n2 + '' || '',\n      correctValue: '',\n      class: null\n    }, {\n      id: 'n12',\n      value: '',\n      correctValue: '',\n      class: 'empty'\n    }], [{\n      id: 'n20',\n      value: n.n31 + '' || '',\n      correctValue: '',\n      class: !n.n31 && 'empty' || null\n    }, {\n      id: 'n21',\n      value: n.n32 + '' || '',\n      correctValue: '',\n      class: !n.n32 && 'empty' || null\n    }, {\n      id: 'n22',\n      value: '',\n      correctValue: '',\n      class: 'empty'\n    }]];\n    var POSITION = [Math.floor(Math.random() * NUMBERS.length), 1];\n    POSITION[1] = POSITION[0] === NUMBERS.length - 1 && n.n31 ? Math.floor(Math.random() * 2) : 1;\n\n    NUMBERS[POSITION[0]][POSITION[1]] = {\n      id: 'n' + POSITION[0] + POSITION[1],\n      value: UNDEFINED,\n      correctValue: n['n' + (POSITION[0] > 1 ? '3' + (POSITION[1] + 1) : POSITION[0] + 1)] + '' || '',\n      class: 'question'\n    };\n\n    state.numbers = NUMBERS;\n    state.complexity = (POSITION[0] < 2 ? 1 : POSITION[1] === 1 ? 0.7 : 0.8) * (params.currentLevel > state.actualLevel ? 0.7 : params.currentLevel < state.actualLevel ? 1.5 : 1);\n    state.position = POSITION;\n  }\n};\n\nvar getters = {\n  getNumbers: function getNumbers(state) {\n    return state.numbers;\n  },\n  getComplexity: function getComplexity(state) {\n    return state.complexity;\n  },\n  getPosition: function getPosition(state) {\n    return state.position;\n  }\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  state: state,\n  actions: actions,\n  mutations: mutations,\n  getters: getters\n});\n\nfunction generateNumber(state) {\n  var currentLevel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var max = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var stats = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n\n  var n = {};\n\n  var randomLevel = lnRandomScaled(currentLevel || 0.4, 0, max);\n  console.log(currentLevel, '->', randomLevel);\n  state.actualLevel = randomLevel;\n\n  switch (randomLevel) {\n    case 0:\n      n.n1 = 1;\n      n.n2 = randomIntegerWeighted(2, 9, stats);\n      break;\n    case 1:\n      n.n1 = 2;\n      n.n2 = randomIntegerWeighted(3, 9, stats);\n      break;\n    case 2:\n      n.n1 = randomIntegerWeighted(2, 9, stats);\n      n.n2 = n.n1;\n      break;\n    case 3:\n      n.n1 = randomIntegerWeighted(3, 5, stats);\n      do {\n        n.n2 = randomIntegerWeighted(3, 9, stats);\n      } while (n.n1 === n.n2);\n      break;\n    default:\n      n.n1 = randomIntegerWeighted(6, 9, stats);\n      do {\n        n.n2 = randomIntegerWeighted(6, 9, stats);\n      } while (n.n1 === n.n2);\n  }\n\n  doRandomSwap(n);\n\n  n.n31 = Math.floor(n.n1 * n.n2 / 10) || '';\n  n.n32 = Math.floor(n.n1 * n.n2 - n.n31 * 10) || '0';\n\n  return n;\n}\n\nvar spareRandom = null;\n\nfunction normalRandom() {\n  var val = void 0,\n      u = void 0,\n      v = void 0,\n      s = void 0,\n      mul = void 0;\n\n  if (spareRandom !== null) {\n    val = spareRandom;\n    spareRandom = null;\n  } else {\n    do {\n      u = Math.random() * 2 - 1;\n      v = Math.random() * 2 - 1;\n\n      s = u * u + v * v;\n    } while (s === 0 || s >= 1);\n\n    mul = Math.sqrt(-2 * Math.log(s) / s);\n\n    val = u * mul;\n    spareRandom = v * mul;\n  }\n\n  return val / 14;\n}\n\nfunction normalRandomInRange(min, max) {\n  var val = void 0;\n  do {\n    val = normalRandom();\n  } while (val < min || val > max);\n\n  return val;\n}\n\nfunction lnRandomScaled(gmean, min, max) {\n  var gstddev = 500;\n\n  var r = void 0,\n      val = void 0;\n  var maxIterations = 10;\n  var iteration = 0;\n\n  do {\n    r = normalRandomInRange(-1, 1);\n    r = r * Math.log(gstddev / (1 + gmean)) + Math.log(gmean);\n    val = Math.floor(Math.exp(r) + 0.5);\n    iteration++;\n  } while (iteration < maxIterations && (val < min || val > max));\n\n  return val;\n}\n\nfunction randomInteger(min, max) {\n  var rand = min + Math.random() * (max + 1 - min);\n\n  rand = Math.floor(rand);\n\n  return rand;\n}\n\nfunction randomIntegerWeighted(min, max, stats) {\n  var numbers = [];\n\n  for (var i = min; i <= max; i++) {\n    for (var j = 1 + (stats[i] || -0.1); j > 0; j = j - 0.1) {\n      numbers.push(i);\n    }\n  }\n\n  return numbers[randomInteger(0, numbers.length - 1)];\n}\n\nfunction doRandomSwap(n) {\n  if (Math.random() < 0.5) {\n    var tmp = void 0;\n\n    tmp = n.n1;\n    n.n1 = n.n2;\n    n.n2 = tmp;\n  }\n\n  return n;\n}\n\n/***/ }),\n\n/***/ 36:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__modal__ = __webpack_require__(46);\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (__WEBPACK_IMPORTED_MODULE_0__modal__[\"a\" /* default */]);\n\n/***/ }),\n\n/***/ 37:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\nvar Tokens = {\n\tPIPE: '7440011c983cf39ae730b1f831e2922ac5a76910',\n\tOPEN_BRACE: 'f630c4abcae620278f82e142a526ef325c2a773a',\n\tCLOSE_BRACE: 'ad982c66898e02a5dab419ea7568421b03f68ee2'\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n\tname: 'keyboard',\n\n\tprops: {\n\t\tvalue: {\n\t\t\ttype: String,\n\t\t\tdefault: ''\n\t\t},\n\t\tlayouts: {\n\t\t\ttype: [String, Array],\n\t\t\trequired: true\n\t\t},\n\t\tmaxlength: {\n\t\t\ttype: Number,\n\t\t\tdefault: 0,\n\t\t\tvalidator: function validator(value) {\n\t\t\t\treturn value >= 0;\n\t\t\t}\n\t\t},\n\t\tpattern: {\n\t\t\ttype: String,\n\t\t\tdefault: null\n\t\t}\n\t},\n\n\tdata: function data() {\n\t\treturn {\n\t\t\tlayout: 0\n\t\t};\n\t},\n\n\n\tcomputed: {\n\t\tfull: function full() {\n\t\t\treturn this.maxlength > 0 && this.value.length >= this.maxlength;\n\t\t},\n\t\tempty: function empty() {\n\t\t\treturn this.value.length === 0;\n\t\t},\n\t\tlines: function lines() {\n\t\t\tvar layout = (Array.isArray(this.layouts) ? this.layouts : [this.layouts])[this.layout];\n\n\t\t\treturn layout.replace('||', Tokens.PIPE).replace('{{', Tokens.OPEN_BRACE).replace('}}', Tokens.CLOSE_BRACE).split('|');\n\t\t},\n\t\tbuttons: function buttons() {\n\t\t\tvar _this = this;\n\n\t\t\treturn this.lines.map(function (line) {\n\t\t\t\tvar stream = line.match(new RegExp('(' + Tokens.OPEN_BRACE + '|' + Tokens.CLOSE_BRACE + '|' + Tokens.PIPE + '|.)', 'g'));\n\n\t\t\t\tvar buttons = [];\n\t\t\t\tvar token = null;\n\n\t\t\t\tstream.forEach(function (char) {\n\t\t\t\t\tif (char === '{') {\n\t\t\t\t\t\ttoken = '';\n\t\t\t\t\t} else if (char === '}') {\n\t\t\t\t\t\tvar command = token.split(':');\n\t\t\t\t\t\tvar text = command.length > 1 ? command[0] : '';\n\t\t\t\t\t\tvar action = command.length > 1 ? command[1] : command[0];\n\t\t\t\t\t\tvar args = command.length > 2 ? command[2] : null;\n\t\t\t\t\t\tvar method = null;\n\n\t\t\t\t\t\tif (['append', 'backspace', 'space', 'clear', 'goto'].indexOf(action) >= 0) method = _this[action].bind(_this, args);else method = _this.$emit.bind(_this, action, _this);\n\n\t\t\t\t\t\tbuttons.push({\n\t\t\t\t\t\t\ttype: 'action',\n\t\t\t\t\t\t\taction: { name: action.replace(/\\s+/g, '-').toLowerCase(), callable: method },\n\t\t\t\t\t\t\tvalue: text,\n\t\t\t\t\t\t\targs: args\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\ttoken = null;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (token !== null) {\n\t\t\t\t\t\t\ttoken += char;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (char === Tokens.PIPE) char = '|';\n\t\t\t\t\t\t\tif (char === Tokens.OPEN_BRACE) char = '{';\n\t\t\t\t\t\t\tif (char === Tokens.CLOSE_BRACE) char = '}';\n\n\t\t\t\t\t\t\tbuttons.push({\n\t\t\t\t\t\t\t\ttype: 'char',\n\t\t\t\t\t\t\t\taction: { name: null, callable: _this.append.bind(_this, char) },\n\t\t\t\t\t\t\t\tvalue: char,\n\t\t\t\t\t\t\t\targs: null\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn buttons;\n\t\t\t});\n\t\t},\n\t\tvalid: function valid() {\n\t\t\treturn !this.pattern || this.value.match(new RegExp(this.pattern));\n\t\t}\n\t},\n\n\tmethods: {\n\t\tmutate: function mutate(value) {\n\t\t\tif (this.maxlength > 0) {\n\t\t\t\tvalue = value.slice(0, this.maxlength);\n\t\t\t}\n\n\t\t\tthis.$emit('input', value);\n\t\t},\n\t\tappend: function append(char) {\n\t\t\tthis.mutate(this.value + char);\n\t\t},\n\t\tbackspace: function backspace() {\n\t\t\tthis.mutate(this.value.slice(0, this.value.length - 1));\n\t\t},\n\t\tspace: function space() {\n\t\t\tthis.append(' ');\n\t\t},\n\t\tgoto: function goto(layout) {\n\t\t\tif (Array.isArray(this.layouts)) {\n\t\t\t\tif (layout >= 0 && layout < this.layouts.length) {\n\t\t\t\t\tthis.layout = layout;\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error('The requested layout does not exist.');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthrow new Error('A single non-array layout was provided.');\n\t\t\t}\n\t\t},\n\t\tclear: function clear() {\n\t\t\tthis.mutate('');\n\t\t}\n\t}\n});\n\n/***/ }),\n\n/***/ 38:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app',\n  props: {\n    incrementLevel: {\n      type: Function,\n      required: true\n    },\n    currentData: {\n      type: Function,\n      required: true\n    },\n    setData: {\n      type: Function,\n      required: true\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 39:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  props: {\n    asClass: {\n      type: String,\n      required: false\n    },\n    text: {\n      type: String,\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      value: ''\n    };\n  },\n  mounted: function mounted() {\n    this.value = this.text;\n  },\n  watch: {\n    text: function text(value) {\n      var vm = this;\n\n      var from = Number(vm.value);\n      var to = Number(value);\n\n      if (from && to) {\n        loop(from, to, vm);\n      } else {\n        vm.value = value;\n      }\n    }\n  }\n});\n\nfunction loop(from, to, vm) {\n  if (from !== to) {\n    if (from < to) {\n      from++;\n    } else if (from < to) {\n      from--;\n    } else {\n      from = to;\n    }\n    vm.value = '' + from;\n    setTimeout(function () {\n      loop(from, to, vm);\n    }, 25);\n  }\n}\n\n/***/ }),\n\n/***/ 40:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  props: {\n    percent: {\n      type: Number,\n      required: true\n    }\n  },\n  data: function data() {\n    return {};\n  },\n  computed: {\n    styleObject: function styleObject() {\n      return {\n        maxWidth: this.percent + '%',\n        minWidth: this.percent + '%',\n        width: this.percent + '%'\n      };\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 41:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(42);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vuex__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vue_keyboard__ = __webpack_require__(115);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vue_keyboard___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_vue_keyboard__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_Echo__ = __webpack_require__(117);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_Echo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__components_Echo__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_ProgressBar__ = __webpack_require__(118);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_ProgressBar___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__components_ProgressBar__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_bootstrap_vue_es_directives_modal_modal__ = __webpack_require__(48);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_bootstrap_vue_es_components_button_button__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_bootstrap_vue_es_components_modal_modal__ = __webpack_require__(47);\n\n\n\n\n\n\n\n\n\n\n\n\nvar UNDEFINED = '…';\nvar BONUS_TIME = 6000;\nvar MAX_TIME = 15000;\nvar COOLDOWN = 1000;\nvar COOLDOWN_REVERT = 2000;\nvar LEVELS = [{\n  maxProgress: 10\n}, {\n  maxProgress: 20\n}, {\n  maxProgress: 40\n}, {\n  maxProgress: 80\n}, {\n  maxProgress: 160\n}];\nvar MAX_LEVELS = LEVELS.length - 1;\nvar MAX_PROGRESS = LEVELS.reduce(function (a, b) {\n  return a + b.maxProgress;\n}, 0);\nvar CORRECTNESS_RATIO = 5;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  components: {\n    Echo: __WEBPACK_IMPORTED_MODULE_4__components_Echo___default.a,\n    Keyboard: __WEBPACK_IMPORTED_MODULE_3_vue_keyboard___default.a,\n    ProgressBar: __WEBPACK_IMPORTED_MODULE_5__components_ProgressBar___default.a,\n    'b-modal': __WEBPACK_IMPORTED_MODULE_8_bootstrap_vue_es_components_modal_modal__[\"a\" /* default */],\n    'b-btn': __WEBPACK_IMPORTED_MODULE_7_bootstrap_vue_es_components_button_button__[\"a\" /* default */]\n  },\n  directives: {\n    'b-modal': __WEBPACK_IMPORTED_MODULE_6_bootstrap_vue_es_directives_modal_modal__[\"a\" /* default */]\n  },\n  props: {\n    session: {\n      type: String\n    },\n    incrementLevel: {\n      type: Function,\n      required: true\n    },\n    currentData: {\n      type: Function,\n      required: true\n    },\n    setData: {\n      type: Function,\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      input: '',\n      progress: 0,\n      startTime: new Date().getTime(),\n      errorsInSequence: 0,\n      errorState: false,\n      started: new Date().getTime(),\n      tries: 0,\n      errors: 0,\n      modalText: '',\n      ended: false\n    };\n  },\n  computed: __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_vuex__[\"a\" /* mapGetters */])({\n    numbers: 'getNumbers',\n    complexity: 'getComplexity',\n    position: 'getPosition'\n  }), {\n    currentProgressPercent: function currentProgressPercent() {\n      var self = this;\n\n      var currentProgress = LEVELS.reduce(function (a, b, index) {\n        return a + (index < self.currentData().currentLevel ? b.maxProgress : 0);\n      }, 0) + self.progress;\n\n      var percent = Math.floor(currentProgress / MAX_PROGRESS * 100);\n\n      console.log(currentProgress, percent, '%');\n\n      return percent;\n    }\n  }),\n  methods: __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_vuex__[\"b\" /* mapActions */])(['generateTask']), {\n    changed: function changed(value) {\n      var vm = this;\n      var pressed = value[value.length - 1];\n\n      this.input = pressed;\n      valueChange(vm, pressed);\n    },\n    showModal: function showModal() {\n      this.$refs.myModalRef.show();\n    },\n    hideModal: function hideModal() {\n      this.$refs.myModalRef.hide();\n    }\n  }),\n  mounted: function mounted() {\n    var vm = this;\n\n    readSessionDataThenGenerateTask(vm);\n\n    window.scrollTo(0, document.body.scrollHeight);\n\n    window.addEventListener('keyup', function (event) {\n      valueChange(vm, event.key);\n    });\n  }\n});\n\nfunction readSessionDataThenGenerateTask(vm) {\n  if (!vm.session) {\n    generateTask(vm);\n    return;\n  }\n\n  var session = vm.session.split(',');\n  var stats = session.slice(0, -1).slice(1).map(function (el) {\n    return Number(el);\n  });\n  var level = Number(session[0]);\n  var checkSum = session.slice(-1)[0];\n  var actualCheckSum = checksum(level + ',' + stats);\n\n  if (level > 0 && level <= MAX_LEVELS && stats.length === 10 && actualCheckSum === checkSum) {\n    console.log('Session get: Level -> ' + level);\n\n    vm.progress = 0;\n\n    setTimeout(function () {\n      vm.setData({\n        currentLevel: level,\n        stats: stats\n      });\n      generateTask(vm);\n    }, 50);\n  } else if (level === 0 && stats.length === 10 && actualCheckSum === checkSum) {\n    console.log('Session get: Level and stats dropped');\n\n    vm.progress = 0;\n\n    setTimeout(function () {\n      vm.setData({\n        currentLevel: level,\n        stats: stats\n      });\n      generateTask(vm);\n    }, 50);\n  } else {\n    console.log('Checksum failed, session ignored');\n    generateTask(vm);\n  }\n}\n\nfunction checksum(s) {\n  var str = '' + __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(s);\n\n  var chk = 0x12345678;\n  var len = str.length;\n\n  for (var i = 0; i < len; i++) {\n    chk += str.charCodeAt(i) * (i + 1);\n  }\n\n  return (chk & 0xffffffff).toString(16);\n}\n\nfunction rewriteLocation(vm) {\n  var string = '' + vm.currentData().currentLevel;\n  var getStats = vm.currentData().stats;\n\n  for (var i = 0; i < 10; i++) {\n    string += ',' + (getStats[i] || '0');\n  }\n\n  window.location.replace('#' + string + ',' + checksum(string));\n}\n\nfunction valueChange(vm, value) {\n  var POSSIBLE_KEYS = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'Backspace', 'Delete'];\n  var DELETE_KEYS = ['Backspace', 'Delete'];\n\n  if (POSSIBLE_KEYS.includes(value)) {\n    var elem = vm.numbers[vm.position[0]][vm.position[1]];\n\n    if (elem.value && elem.correctValue && elem.value !== elem.correctValue) {\n      if (DELETE_KEYS.includes(value)) {\n        elem.value = UNDEFINED;\n        elem.class = 'question';\n\n        return;\n      }\n\n      check(vm, value, elem);\n    }\n  }\n}\n\nfunction check(vm, value, elem) {\n  var isTrueAnswer = value === elem.correctValue;\n\n  elem.value = value;\n  elem.class = isTrueAnswer ? 'correct' : 'incorrect';\n  vm.$refs[isTrueAnswer ? 'audioOk' : 'audioErr'].play();\n\n  if (isTrueAnswer) {\n    complete(vm, elem);\n  } else {\n    error(vm, elem);\n  }\n}\n\nfunction complete(vm, elem) {\n  var getStats = vm.currentData().stats;\n  var newValue = Math.floor((getStats[elem.correctValue] - 1 / CORRECTNESS_RATIO) * 10) / 10;\n  var timDiff = new Date().getTime() - vm.startTime;\n\n  getStats[elem.correctValue] = newValue > 0 ? newValue : 0;\n\n  vm.tries++;\n  vm.errorState = false;\n\n  progressUp(vm, timDiff);\n\n  setTimeout(function () {\n    vm.errorsInSequence = vm.errorsInSequence > 1 && vm.complexity <= 1 ? 1 : 0;\n    vm.startTime = new Date().getTime();\n\n    generateTask(vm);\n  }, COOLDOWN);\n}\n\nfunction error(vm, elem) {\n  var getStats = vm.currentData().stats;\n\n  getStats[elem.correctValue]++;\n\n  revertLater(vm, elem);\n\n  vm.tries++;\n  vm.errors++;\n  vm.errorsInSequence++;\n}\n\nfunction revertLater(vm, elem) {\n  vm.errorState = true;\n\n  setTimeout(function () {\n    if (vm.errorState) {\n      elem.value = UNDEFINED;\n      elem.class = 'question';\n      vm.errorState = false;\n    }\n  }, COOLDOWN_REVERT);\n}\n\nfunction generateTask(vm) {\n  console.log('tries', vm.tries, 'errors', vm.errors, Math.round(vm.errors / (vm.tries || 1) * 100) + '%');\n  vm.generateTask({ currentLevel: vm.currentData().currentLevel, maxLevel: MAX_LEVELS, stats: vm.currentData().stats });\n}\n\nfunction progressUp(vm, timDiff) {\n  var multiplier = vm.errorsInSequence > 0 ? 0 : timDiff >= MAX_TIME ? 0 : timDiff < BONUS_TIME ? 1 + Math.round(BONUS_TIME / timDiff) : 1;\n\n  vm.progress += Math.floor(multiplier * vm.complexity * 10) / 10;\n\n  levelUpIfNeeded(vm);\n\n  console.log(vm.progress, vm.currentData().currentLevel, multiplier, vm.complexity, Math.floor(timDiff / BONUS_TIME), vm.errorsInSequence);\n}\n\nfunction levelUpIfNeeded(vm) {\n  var currentLevel = vm.currentData().currentLevel;\n  var maxProgress = LEVELS[currentLevel].maxProgress;\n\n  if (vm.progress > maxProgress && currentLevel < LEVELS.length - 1) {\n    vm.progress -= maxProgress;\n\n    vm.modalText = 'Следующий уровень! Поздравляем!';\n    vm.showModal();\n    vm.incrementLevel();\n    rewriteLocation(vm);\n  }if (vm.progress > maxProgress && currentLevel < LEVELS.length) {\n    if (!vm.ended) {\n      vm.ended = true;\n      vm.modalText = 'Пройти всю программу обучения за ' + Math.round((new Date().getTime() - vm.started) / 1000 / 60 + 1) + ' мин. это прекрасный результат!';\n      vm.showModal();\n    }\n    vm.progress = maxProgress;\n    rewriteLocation(vm);\n  }\n}\n\n/***/ })\n\n},[34]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.04f2464430e07be196cf.js","\n/* styles */\nrequire(\"!!../../../../extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-2623a9f1\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../vue-loader/lib/selector?type=styles&index=0!./modal.vue\")\n\nvar Component = require(\"!../../../../vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../vue-loader/lib/selector?type=script&index=0!./modal.vue\"),\n  /* template */\n  null,\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/bootstrap-vue/es/components/modal/modal.vue\n// module id = 116\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-dcb75f10\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Echo.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Echo.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-dcb75f10\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Echo.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Echo.vue\n// module id = 117\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-b26fa0ba\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ProgressBar.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ProgressBar.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b26fa0ba\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ProgressBar.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ProgressBar.vue\n// module id = 118\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-0ac69ea2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./HomePage.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HomePage.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0ac69ea2\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./HomePage.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/HomePage.vue\n// module id = 119\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-295346d9\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../vue-loader/lib/selector?type=styles&index=0!./keyboard.vue\")\n\nvar Component = require(\"!../../vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../vue-loader/lib/selector?type=script&index=0!./keyboard.vue\"),\n  /* template */\n  require(\"!!../../vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-295346d9\\\"}!../../vue-loader/lib/selector?type=template&index=0!./keyboard.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-keyboard/src/keyboard.vue\n// module id = 120\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('main', [_c('progress-bar', {\n    attrs: {\n      \"percent\": _vm.currentProgressPercent\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"echo\"\n  }, [_vm._l((_vm.numbers[0]), function(number) {\n    return _c('echo', {\n      key: number.id,\n      attrs: {\n        \"text\": number.value,\n        \"as-class\": number.class\n      }\n    })\n  }), _c('span', {\n    staticClass: \"sign\"\n  }, [_vm._v(\"×\")]), _vm._l((_vm.numbers[1]), function(number) {\n    return _c('echo', {\n      key: number.id,\n      attrs: {\n        \"text\": number.value,\n        \"as-class\": number.class\n      }\n    })\n  }), _c('span', {\n    staticClass: \"sign\"\n  }, [_vm._v(\"=\")]), _vm._l((_vm.numbers[2]), function(number) {\n    return _c('echo', {\n      key: number.id,\n      attrs: {\n        \"text\": number.value,\n        \"as-class\": number.class\n      }\n    })\n  })], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"keyboard\"\n  }, [_c('keyboard', {\n    attrs: {\n      \"layouts\": \"12345|67890\",\n      \"maxlength\": 2\n    },\n    on: {\n      \"input\": _vm.changed\n    },\n    model: {\n      value: (_vm.input),\n      callback: function($$v) {\n        _vm.input = $$v\n      },\n      expression: \"input\"\n    }\n  })], 1), _vm._v(\" \"), _c('b-modal', {\n    ref: \"myModalRef\",\n    staticClass: \"clear\",\n    attrs: {\n      \"hide-footer\": \"\",\n      \"hide-header\": \"\",\n      \"centered\": \"\",\n      \"title\": \"\"\n    }\n  }, [_c('div', {\n    staticClass: \"d-block text-center\"\n  }, [_c('h3', [_vm._v(_vm._s(_vm.modalText))])]), _vm._v(\" \"), _c('b-btn', {\n    staticClass: \"mt-3\",\n    attrs: {\n      \"variant\": \"outline-secondary\",\n      \"block\": \"\"\n    },\n    on: {\n      \"click\": _vm.hideModal\n    }\n  }, [_vm._v(\"Продолжить\")])], 1), _vm._v(\" \"), _c('audio', {\n    ref: \"audioOk\",\n    attrs: {\n      \"src\": \"./static/sounds/ok.wav\"\n    }\n  }), _vm._v(\" \"), _c('audio', {\n    ref: \"audioErr\",\n    attrs: {\n      \"src\": \"./static/sounds/err.wav\"\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-0ac69ea2\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/pages/HomePage.vue\n// module id = 121\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('aside', {\n    staticClass: \"vue-keyboard\",\n    class: {\n      full: _vm.full, empty: _vm.empty, valid: _vm.valid, invalid: !_vm.valid\n    },\n    attrs: {\n      \"role\": \"application\",\n      \"data-value\": _vm.value,\n      \"data-layout\": _vm.layout\n    }\n  }, _vm._l((_vm.buttons), function(row) {\n    return _c('div', {\n      staticClass: \"vue-keyboard-row\",\n      attrs: {\n        \"role\": \"row\",\n        \"data-keys\": row.length\n      }\n    }, _vm._l((row), function(btn) {\n      return _c('button', {\n        staticClass: \"vue-keyboard-key\",\n        class: btn.type,\n        attrs: {\n          \"role\": \"button\",\n          \"data-args\": btn.args,\n          \"data-text\": btn.value,\n          \"data-action\": btn.action.name\n        },\n        on: {\n          \"click\": function($event) {\n            $event.preventDefault();\n            btn.action.callable($event)\n          }\n        }\n      }, [_vm._v(_vm._s(btn.value))])\n    }))\n  }))\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-295346d9\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./~/vue-keyboard/src/keyboard.vue\n// module id = 122\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('header', [_c('div', {\n    attrs: {\n      \"id\": \"progressBar\"\n    }\n  }, [_c('div', {\n    style: (_vm.styleObject)\n  })])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-b26fa0ba\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/ProgressBar.vue\n// module id = 123\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"app\"\n  }, [_c('div', {\n    staticClass: \"page\"\n  }, [_c('router-view', {\n    attrs: {\n      \"increment-level\": _vm.incrementLevel,\n      \"current-data\": _vm.currentData,\n      \"set-data\": _vm.setData\n    }\n  })], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-ce52db4a\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 124\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('transition', {\n    attrs: {\n      \"name\": \"fade\",\n      \"mode\": \"out-in\"\n    }\n  }, [_c('span', {\n    class: _vm.asClass\n  }, [_vm._v(_vm._s(_vm.value))])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-dcb75f10\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Echo.vue\n// module id = 125\n// module chunks = 1","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport HomePage from '@/pages/HomePage'\r\n\r\nVue.use(Router)\r\n\r\nexport default new Router({\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      name: 'home',\r\n      component: HomePage\r\n    },\r\n    {\r\n      path: '/:session',\r\n      name: 'session',\r\n      component: HomePage,\r\n      props: true\r\n    }\r\n  ]\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import Vuex from 'vuex'\r\nimport Vue from 'vue'\r\nimport multi from './multi'\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n  modules: {\r\n    multi\r\n  }\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","\n/* styles */\nrequire(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-ce52db4a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ce52db4a\\\"}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 31\n// module chunks = 1","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport { sync } from 'vuex-router-sync'\nimport VueLocalStorage from 'vue-localstorage'\nimport App from './App'\nimport router from './router'\nimport store from './store/index'\n\nsync(store, router)\n\nVue.config.productionTip = false\n\nVue.use(VueLocalStorage, {\n  name: 'ls',\n  createComputed: true // created computed members from your variable declarations\n})\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  template: '<App :increment-level=\"incrementLevel\" :current-data=\"currentData\" :set-data=\"setData\" />',\n  components: { App },\n  data: function () {\n    return {\n      currentLevel: 0,\n      stats: [].fill.call({length: 10}, 0)\n    }\n  },\n  watch: {\n    currentLevel: function (val) {\n      this.$ls.set('currentLevel', val)\n    },\n    stats: function (val) {\n      const values = []\n\n      for (let i = 0; i < 10; i++) {\n        values.push(val[i] || 0)\n      }\n\n      this.$ls.set('stats', values.join(','))\n    }\n  },\n  created: function () {\n    const self = this\n\n    self.currentLevel = Number(self.$ls.get('currentLevel', 0)) // 0 is default value\n\n    const stats = self.$ls.get('stats', '0,0,0,0,0,0,0,0,0,0').split(',')\n    for (let i = 0; i < 10; i++) {\n      self.stats[i] = stats[i]\n    }\n  },\n  methods: {\n    incrementLevel: function () {\n      this.currentLevel++\n    },\n    setData: function (data) {\n      const self = this\n\n      Object.keys(data).forEach(key => {\n        self[key] = data[key]\n      })\n    },\n    currentData: function () {\n      const self = this\n\n      return {\n        currentLevel: self.currentLevel,\n        stats: self.stats\n      }\n    }\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","const UNDEFINED = '…'\r\n\r\nconst state = {\r\n  numbers: [],\r\n  complexity: 0,\r\n  position: [0, 1],\r\n  actualLevel: 0,\r\n  lastNumbers: {\r\n    n1: 0,\r\n    n2: 0\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  generateTask ({commit}, params = {currentLevel: 0, maxLevel: 0, stats: []}) {\r\n    commit('generate_task', params)\r\n  }\r\n}\r\n\r\nconst mutations = {\r\n  generate_task (state, params) {\r\n    /*\r\n    const stats = '0,0,0,0,0'.split(',').map(num => Number(num))\r\n    for (let i = 0; i < 100; i++) {\r\n      generateNumber(state, 4, params.maxLevel, '0,0,0,0,0,0,0,0,0,0'.split(',').map(num => Number(num)))\r\n      stats[state.actualLevel]++\r\n    }\r\n    console.log(stats)\r\n    */\r\n    let n = generateNumber(state, params.currentLevel, params.maxLevel, params.stats)\r\n\r\n    // anti-[:::]\r\n    while ((n.n1 === state.lastNumbers.n1 && n.n2 === state.lastNumbers.n2) ||\r\n      (n.n1 === state.lastNumbers.n2 && n.n2 === state.lastNumbers.n1)) {\r\n      n = generateNumber(state, params.currentLevel, params.maxLevel, params.stats)\r\n    }\r\n\r\n    console.log(n.n1, 'x', n.n2)\r\n\r\n    state.lastNumbers.n1 = n.n1\r\n    state.lastNumbers.n2 = n.n2\r\n\r\n    const NUMBERS = [\r\n      [\r\n        {\r\n          id: 'n00',\r\n          value: '',\r\n          correctValue: '',\r\n          class: 'empty'\r\n        },\r\n        {\r\n          id: 'n11',\r\n          value: n.n1 + '' || '',\r\n          correctValue: '',\r\n          class: null\r\n        },\r\n        {\r\n          id: 'n02',\r\n          value: '',\r\n          correctValue: '',\r\n          class: 'empty'\r\n        }\r\n      ],\r\n      [\r\n        {\r\n          id: 'n10',\r\n          value: '',\r\n          correctValue: '',\r\n          class: 'empty'\r\n        },\r\n        {\r\n          id: 'n11',\r\n          value: n.n2 + '' || '',\r\n          correctValue: '',\r\n          class: null\r\n        },\r\n        {\r\n          id: 'n12',\r\n          value: '',\r\n          correctValue: '',\r\n          class: 'empty'\r\n        }\r\n      ],\r\n      [\r\n        {\r\n          id: 'n20',\r\n          value: n.n31 + '' || '',\r\n          correctValue: '',\r\n          class: !n.n31 && 'empty' || null\r\n        },\r\n        {\r\n          id: 'n21',\r\n          value: n.n32 + '' || '',\r\n          correctValue: '',\r\n          class: !n.n32 && 'empty' || null\r\n        },\r\n        {\r\n          id: 'n22',\r\n          value: '',\r\n          correctValue: '',\r\n          class: 'empty'\r\n        }\r\n      ]\r\n    ]\r\n    const POSITION = [Math.floor(Math.random() * NUMBERS.length), 1]\r\n    POSITION[1] = (POSITION[0] === NUMBERS.length - 1 && n.n31 ? Math.floor(Math.random() * 2) : 1)\r\n\r\n    // console.log(POSITION)\r\n\r\n    NUMBERS[POSITION[0]][POSITION[1]] = {\r\n      id: 'n' + POSITION[0] + POSITION[1],\r\n      value: UNDEFINED,\r\n      correctValue: n['n' + (POSITION[0] > 1 ? '3' + (POSITION[1] + 1) : (POSITION[0] + 1))] + '' || '',\r\n      class: 'question'\r\n    }\r\n\r\n    // console.log(JSON.stringify(NUMBERS))\r\n\r\n    state.numbers = NUMBERS\r\n    state.complexity = (POSITION[0] < 2 ? 1 : POSITION[1] === 1 ? 0.7 : 0.8) *\r\n      (params.currentLevel > state.actualLevel ? 0.7\r\n        : (params.currentLevel < state.actualLevel ? 1.5 : 1)\r\n      )\r\n    state.position = POSITION\r\n  }\r\n}\r\n\r\nconst getters = {\r\n  getNumbers (state) {\r\n    return state.numbers\r\n  },\r\n  getComplexity (state) {\r\n    return state.complexity\r\n  },\r\n  getPosition (state) {\r\n    return state.position\r\n  }\r\n}\r\n\r\nexport default {\r\n  state,\r\n  actions,\r\n  mutations,\r\n  getters\r\n}\r\n\r\nfunction generateNumber (state, currentLevel = 0, max = 0, stats = []) {\r\n  const n = {}\r\n\r\n  const randomLevel = lnRandomScaled(currentLevel || 0.4, // zero-issue fix\r\n    0, max)\r\n  console.log(currentLevel, '->', randomLevel)\r\n  state.actualLevel = randomLevel\r\n\r\n  /*\r\n  let i = 20\r\n  while (i-- > 0) {\r\n    console.log(i, lnRandomScaled(4, 0, 4))\r\n  }\r\n  */\r\n\r\n  switch (randomLevel) {\r\n    case 0:\r\n      n.n1 = 1\r\n      n.n2 = randomIntegerWeighted(2, 9, stats)\r\n      break\r\n    case 1:\r\n      n.n1 = 2\r\n      n.n2 = randomIntegerWeighted(3, 9, stats)\r\n      break\r\n    case 2:\r\n      n.n1 = randomIntegerWeighted(2, 9, stats)\r\n      n.n2 = n.n1\r\n      break\r\n    case 3:\r\n      n.n1 = randomIntegerWeighted(3, 5, stats)\r\n      do {\r\n        n.n2 = randomIntegerWeighted(3, 9, stats)\r\n      } while (n.n1 === n.n2)\r\n      break\r\n    default:\r\n      n.n1 = randomIntegerWeighted(6, 9, stats)\r\n      do {\r\n        n.n2 = randomIntegerWeighted(6, 9, stats)\r\n      } while (n.n1 === n.n2)\r\n  }\r\n\r\n  doRandomSwap(n)\r\n\r\n  n.n31 = Math.floor(n.n1 * n.n2 / 10) || ''\r\n  n.n32 = Math.floor(n.n1 * n.n2 - n.n31 * 10) || '0'\r\n\r\n  return n\r\n}\r\n\r\n// randomizers\r\n\r\nlet spareRandom = null\r\n\r\nfunction normalRandom () {\r\n  let val, u, v, s, mul\r\n\r\n  if (spareRandom !== null) {\r\n    val = spareRandom\r\n    spareRandom = null\r\n  } else {\r\n    do {\r\n      u = Math.random() * 2 - 1\r\n      v = Math.random() * 2 - 1\r\n\r\n      s = u * u + v * v\r\n    } while (s === 0 || s >= 1)\r\n\r\n    mul = Math.sqrt(-2 * Math.log(s) / s)\r\n\r\n    val = u * mul\r\n    spareRandom = v * mul\r\n  }\r\n\r\n  return val / 14 // 7 standard deviations on either side\r\n}\r\n\r\nfunction normalRandomInRange (min, max) {\r\n  let val\r\n  do {\r\n    val = normalRandom()\r\n  } while (val < min || val > max)\r\n\r\n  return val\r\n}\r\n\r\nfunction lnRandomScaled (gmean, min, max) {\r\n  const gstddev = 500\r\n\r\n  let r, val\r\n  let maxIterations = 10\r\n  let iteration = 0\r\n\r\n  do {\r\n    r = normalRandomInRange(-1, 1)\r\n    r = r * Math.log(gstddev / (1 + gmean)) + Math.log(gmean)\r\n    val = Math.floor(Math.exp(r) + 0.5)\r\n    iteration++\r\n\r\n    // console.log(val, gmean, min, max)\r\n  } while (iteration < maxIterations && (val < min || val > max))\r\n\r\n  return val\r\n}\r\n\r\nfunction randomInteger (min, max) {\r\n  let rand = min + Math.random() * (max + 1 - min)\r\n\r\n  rand = Math.floor(rand)\r\n\r\n  return rand\r\n}\r\n\r\nfunction randomIntegerWeighted (min, max, stats) {\r\n  let numbers = []\r\n\r\n  for (let i = min; i <= max; i++) {\r\n    for (let j = 1 + (stats[i] || -0.1); j > 0; j = j - 0.1) {\r\n      numbers.push(i)\r\n    }\r\n  }\r\n\r\n  // console.log(min, max, stats, numbers.length)\r\n\r\n  return numbers[randomInteger(0, numbers.length - 1)]\r\n}\r\n\r\nfunction doRandomSwap (n) {\r\n  if (Math.random() < 0.5) {\r\n    let tmp\r\n\r\n    tmp = n.n1\r\n    n.n1 = n.n2\r\n    n.n2 = tmp\r\n  }\r\n\r\n  return n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/multi.js","<style>\n    /*\n      This CSS can be removed once Bootstrap V4.beta.3 is released\n      https://github.com/twbs/bootstrap/pull/24510\n      Vertically centered modals are not suited to tall content (the header gets cut off)\n      Once BSV4.beta.3 is released, the script section can be moved into the modal.js file\n    */\n    .modal-dialog-centered {\n        display: flex;\n        align-items: center;\n        min-height: calc(100% - 30px);\n    }\n    .modal-dialog-centered .modal-content {\n        width: 100%;\n    }\n</style>\n\n<script>\n  import bModal from './_modal'\n  export default bModal\n</script>\n\n\n\n// WEBPACK FOOTER //\n// modal.vue?3f14b658","<script>\r\n\tconst Tokens = {\r\n\t\t// Sequences that no-one will ever put in their keyboards.\r\n\t\tPIPE: '7440011c983cf39ae730b1f831e2922ac5a76910',\r\n\t\tOPEN_BRACE: 'f630c4abcae620278f82e142a526ef325c2a773a',\r\n\t\tCLOSE_BRACE: 'ad982c66898e02a5dab419ea7568421b03f68ee2'\r\n\t};\r\n\r\n\texport default {\r\n\t\tname: 'keyboard',\r\n\t\t\r\n\t\tprops: {\r\n\t\t\tvalue: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tlayouts: {\r\n\t\t\t\ttype: [String, Array],\r\n\t\t\t\trequired: true\r\n\t\t\t},\r\n\t\t\tmaxlength: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0,\r\n\t\t\t\tvalidator: value => value >= 0\r\n\t\t\t},\r\n\t\t\tpattern: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: null\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tlayout: 0\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\t\t\t/**\r\n\t\t\t * Whether or not the keyboard input has hit its maximum length.\r\n\t\t\t * @returns {Boolean}\r\n\t\t\t */\r\n\t\t\tfull() {\r\n\t\t\t\treturn this.maxlength > 0 && this.value.length >= this.maxlength;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Whether or not the keyboard input is empty.\r\n\t\t\t * @return {Boolean}\r\n\t\t\t */\r\n\t\t\tempty() {\r\n\t\t\t\treturn this.value.length === 0;\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Returns the lines that make up a layout.\r\n\t\t\t * @return {Array}\r\n\t\t\t */\r\n\t\t\tlines() {\r\n\t\t\t\tlet layout = (Array.isArray(this.layouts) ? this.layouts : [this.layouts])[this.layout];\r\n\r\n\t\t\t\treturn layout.replace('||', Tokens.PIPE)\r\n\t\t\t\t\t.replace('{{', Tokens.OPEN_BRACE)\r\n\t\t\t\t\t.replace('}}', Tokens.CLOSE_BRACE)\r\n\t\t\t\t\t.split('|');\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Returns an array of buttons to render in the component.\r\n\t\t\t * @returns {Array[]}\r\n\t\t\t */\r\n\t\t\tbuttons() {\r\n\t\t\t\treturn this.lines.map(line => {\r\n\t\t\t\t\t// TODO: Could potentially rely on Object.values() here instead of being explicit.\r\n\t\t\t\t\tlet stream = line.match(new RegExp(`(${Tokens.OPEN_BRACE}|${Tokens.CLOSE_BRACE}|${Tokens.PIPE}|.)`, 'g'));\r\n\r\n\t\t\t\t\tlet buttons = [];\r\n\t\t\t\t\tlet token = null;\r\n\r\n\t\t\t\t\tstream.forEach(char => {\r\n\t\t\t\t\t\tif (char === '{') {\r\n\t\t\t\t\t\t\ttoken = '';\r\n\t\t\t\t\t\t} else if (char === '}') {\r\n\t\t\t\t\t\t\tlet command = token.split(':');\r\n\t\t\t\t\t\t\tlet text = command.length > 1 ? command[0] : '';\r\n\t\t\t\t\t\t\tlet action = command.length > 1 ? command[1] : command[0];\r\n\t\t\t\t\t\t\tlet args = command.length > 2 ? command[2] : null;\r\n\t\t\t\t\t\t\tlet method = null;\r\n\r\n\t\t\t\t\t\t\tif (['append', 'backspace', 'space', 'clear', 'goto'].indexOf(action) >= 0) method = this[action].bind(this, args);\r\n\t\t\t\t\t\t\telse method = this.$emit.bind(this, action, this);\r\n\r\n\t\t\t\t\t\t\tbuttons.push({\r\n\t\t\t\t\t\t\t\ttype: 'action',\r\n\t\t\t\t\t\t\t\taction: { name: action.replace(/\\s+/g, '-').toLowerCase(), callable: method },\r\n\t\t\t\t\t\t\t\tvalue: text,\r\n\t\t\t\t\t\t\t\targs\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttoken = null;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (token !== null) {\r\n\t\t\t\t\t\t\t\ttoken += char;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif (char === Tokens.PIPE) char = '|';\r\n\t\t\t\t\t\t\t\tif (char === Tokens.OPEN_BRACE) char = '{';\r\n\t\t\t\t\t\t\t\tif (char === Tokens.CLOSE_BRACE) char = '}';\r\n\r\n\t\t\t\t\t\t\t\tbuttons.push({\r\n\t\t\t\t\t\t\t\t\ttype: 'char',\r\n\t\t\t\t\t\t\t\t\taction: { name: null, callable: this.append.bind(this, char) },\r\n\t\t\t\t\t\t\t\t\tvalue: char,\r\n\t\t\t\t\t\t\t\t\targs: null\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\treturn buttons;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Whether or not the current value matches the regex provided to pattern. Always\r\n\t\t\t * returns true if no pattern was provided.\r\n\t\t\t * @returns {Boolean}\r\n\t\t\t */\r\n\t\t\tvalid() {\r\n\t\t\t\treturn !this.pattern || this.value.match(new RegExp(this.pattern));\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\t/**\r\n\t\t\t * Mutates the keyboard value to a new value.\r\n\t\t\t * @param {String} value The new value.\r\n\t\t\t */\r\n\t\t\tmutate(value) {\r\n\t\t\t\tif (this.maxlength > 0) {\r\n\t\t\t\t\tvalue = value.slice(0, this.maxlength);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.$emit('input', value);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Appends a new value to the end of the current keyboard value.\r\n\t\t\t * @param {String} char The character(s) to append.\r\n\t\t\t */\r\n\t\t\tappend(char) {\r\n\t\t\t\tthis.mutate(this.value + char);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Remove the last character from the current keyboard value.\r\n\t\t\t */\r\n\t\t\tbackspace() {\r\n\t\t\t\tthis.mutate(this.value.slice(0, this.value.length - 1));\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Add one whitespace character to the current keyboard value.\r\n\t\t\t */\r\n\t\t\tspace() {\r\n\t\t\t\tthis.append(' ');\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Go to a new layout.\r\n\t\t\t * @param {Number} The layout index.\r\n\t\t\t */\r\n\t\t\tgoto(layout) {\r\n\t\t\t\tif (Array.isArray(this.layouts)) {\r\n\t\t\t\t\tif (layout >= 0 && layout < this.layouts.length) {\r\n\t\t\t\t\t\tthis.layout = layout;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthrow new Error('The requested layout does not exist.');\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error('A single non-array layout was provided.');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * Clear the entire keyboard value.\r\n\t\t\t */\r\n\t\t\tclear() {\r\n\t\t\t\tthis.mutate('');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<template>\r\n\t<aside class=\"vue-keyboard\" role=\"application\" :class=\"{ full: full, empty: empty, valid: valid, invalid: !valid }\" :data-value=\"value\" :data-layout=\"layout\">\r\n\t\t<div role=\"row\" class=\"vue-keyboard-row\" v-for=\"row in buttons\" :data-keys=\"row.length\">\r\n\t\t\t<button\r\n\t\t\t\tv-for=\"btn in row\"\r\n\t\t\t\tclass=\"vue-keyboard-key\"\r\n\t\t\t\trole=\"button\"\r\n\t\t\t\t:class=\"btn.type\"\r\n\t\t\t\t:data-args=\"btn.args\"\r\n\t\t\t\t:data-text=\"btn.value\"\r\n\t\t\t\t:data-action=\"btn.action.name\"\r\n\t\t\t\t@click.prevent=\"btn.action.callable\"\r\n\t\t\t>{{ btn.value }}</button>\r\n\t\t</div>\r\n\t</aside>\r\n</template>\r\n\r\n<style>\r\n\t.vue-keyboard-row {\r\n\t\tpadding: 2px 0;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.vue-keyboard-key {\r\n\t\tborder: none;\r\n\t\toutline: none;\r\n\t\tpadding: 8px 10px;\r\n\t\tmin-width: 40px;\r\n\t\tmargin: 0 2px;\r\n\t\tbackground: #EEE;\r\n\t\tcolor: #666;\r\n\t\tcursor: pointer;\r\n\t\tfont-family: inherit;\r\n\t\tfont-size: inherit;\r\n\t\tborder-radius: 2px;\r\n\t}\r\n\r\n\t.vue-keyboard-key:hover {\r\n\t\tbackground: #E0E0E0;\r\n\t}\r\n\r\n\t.vue-keyboard-key:active {\r\n\t\tbackground: #777;\r\n\t\tcolor: #FFF;\r\n\t\tbox-shadow: inset 0 1px 4px rgba(#000, 0.1);\r\n\t}\r\n\r\n\t.vue-keyboard-key[data-action=\"space\"] {\r\n\t\tmin-width: 160px;\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// keyboard.vue?1f5d3b7b","<template>\r\n<div class=\"app\">\r\n  <div class=\"page\">\r\n    <router-view :increment-level=\"incrementLevel\" :current-data=\"currentData\" :set-data=\"setData\"></router-view>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'app',\r\n    props: {\r\n      incrementLevel: {\r\n        type: Function,\r\n        required: true\r\n      },\r\n      currentData: {\r\n        type: Function,\r\n        required: true\r\n      },\r\n      setData: {\r\n        type: Function,\r\n        required: true\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\nbody {\r\n  font-family: \"HelveticaNeue\", \"Helvetica Neue\", Helvetica, Arial, sans-serif;\r\n  color: #333;\r\n}\r\n.app {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n}\r\n\r\n.page {\r\n  width: 100%;\r\n  padding: 0 0;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// App.vue?9f5d2cea","<template>\r\n  <transition name=\"fade\" mode=\"out-in\">\r\n    <span v-bind:class=\"asClass\">{{value}}</span>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    props: {\r\n      asClass: {\r\n        type: String,\r\n        required: false\r\n      },\r\n      text: {\r\n        type: String,\r\n        required: true\r\n      }\r\n    },\r\n    data: function () {\r\n      return {\r\n        value: ''\r\n      }\r\n    },\r\n    mounted: function () {\r\n      this.value = this.text\r\n    },\r\n    watch: {\r\n      text: function (value) {\r\n        // console.log('text changed to ' + value)\r\n        const vm = this\r\n\r\n        let from = Number(vm.value)\r\n        const to = Number(value)\r\n\r\n        if (from && to) {\r\n          loop(from, to, vm)\r\n        } else {\r\n          vm.value = value\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function loop (from, to, vm) {\r\n    if (from !== to) {\r\n      if (from < to) {\r\n        from++\r\n      } else if (from < to) {\r\n        from--\r\n      } else {\r\n        from = to\r\n      }\r\n      vm.value = '' + from\r\n      setTimeout(function () {\r\n        loop(from, to, vm)\r\n      }, 25)\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// Echo.vue?77c61663","<template>\r\n  <header>\r\n    <!--div id=\"level\">\r\n        <span class=\"achieved\">0</span>\r\n        <span class=\"achieved\">1</span>\r\n        <span class=\"unlocked\">2</span>\r\n        <span class=\"locked\">3</span>\r\n        <span class=\"locked\">4</span>\r\n    </div-->\r\n    <div id=\"progressBar\"><div  v-bind:style=\"styleObject\"></div></div>\r\n  </header>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    props: {\r\n      percent: {\r\n        type: Number,\r\n        required: true\r\n      }\r\n    },\r\n    data: function () {\r\n      return {}\r\n    },\r\n    computed: {\r\n      styleObject () {\r\n        return {\r\n          maxWidth: this.percent + '%',\r\n          minWidth: this.percent + '%',\r\n          width: this.percent + '%'\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  header {\r\n    padding: 0px;\r\n    padding-top:1rem;\r\n    position: absolute;\r\n    top: 0;\r\n    font-size: 1rem;\r\n    width:60%\r\n  }\r\n  div#progressBar {\r\n    border: solid #00abff 2px;\r\n    border-radius: 15px;\r\n    width:100%;\r\n    padding: 0px;\r\n    height:1.5rem;\r\n    margin-top:6vh;\r\n  }\r\n  div#progressBar div {\r\n    color: white;\r\n    text-align:right;\r\n    background-color: #00abff;\r\n    overflow-x:hidden;\r\n    border:0;\r\n    border-radius: 0;\r\n    padding: 2rem 0 2rem 0;\r\n    transition-property: width, min-width, max-width;\r\n    transition-duration: 0.3s;\r\n    transition-timing-function: ease;\r\n  }\r\n  div#level {\r\n    font-size:2.0rem;\r\n    padding: 0.5rem;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n  }\r\n  div#level span {\r\n    border: solid #007bff 1px;\r\n    border-radius: 50%;\r\n    width: 2.5rem;\r\n    max-width: 2.5rem;\r\n    min-width: 2.5rem;\r\n    height: 2.5rem;\r\n    color: #666666;\r\n    padding: 3px;\r\n    vertical-align:middle;\r\n  }\r\n  div#level span.achieved {\r\n    background-color: rgba(0, 123, 255, 0.76);\r\n    color: #c6e0fb;\r\n  }\r\n  div#level span.unlocked {\r\n    width: 3rem;\r\n    max-width: 3rem;\r\n    min-width: 3rem;\r\n    height: 3rem;\r\n    border: solid #007bff 2px;\r\n    font-size:2.4rem;\r\n    color: #007bff;\r\n  }\r\n  div#level span.locked {\r\n    background-color: #999999;\r\n    border: solid #999999 1px;\r\n    color: #dddddd;\r\n  }\r\n\r\n  @media screen and (max-width: 480px) and (orientation: portrait) {\r\n    div#progressBar {\r\n      height:5vh;\r\n      margin-top:12vh;\r\n    }\r\n  }\r\n  @media screen and (max-width: 720px) and (orientation: landscape) {\r\n    div#progressBar {\r\n      height:7vh;\r\n      margin-top:12vh;\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// ProgressBar.vue?32f4283e","<template>\r\n  <main>\r\n    <progress-bar :percent=\"currentProgressPercent\"></progress-bar>\r\n\r\n    <div class=\"echo\">\r\n    <echo v-for=\"number in numbers[0]\" :key=\"number.id\" :text=\"number.value\" :as-class=\"number.class\">\r\n    </echo><span class=sign>×</span><echo v-for=\"number in numbers[1]\" :key=\"number.id\" :text=\"number.value\" :as-class=\"number.class\">\r\n    </echo><span class=sign>=</span><echo v-for=\"number in numbers[2]\" :key=\"number.id\" :text=\"number.value\" :as-class=\"number.class\"></echo>\r\n    </div>\r\n    <div class=\"keyboard\"><keyboard v-model=\"input\" layouts=\"12345|67890\" @input=\"changed\" :maxlength=\"2\"></keyboard></div>\r\n\r\n    <b-modal ref=\"myModalRef\" hide-footer hide-header centered title=\"\" class=\"clear\">\r\n      <div class=\"d-block text-center\">\r\n        <h3>{{modalText}}</h3>\r\n      </div>\r\n      <b-btn class=\"mt-3\" variant=\"outline-secondary\" block @click=\"hideModal\">Продолжить</b-btn>\r\n    </b-modal>\r\n\r\n    <audio ref=\"audioOk\" src=\"./static/sounds/ok.wav\"></audio>\r\n    <audio ref=\"audioErr\" src=\"./static/sounds/err.wav\"></audio>\r\n    <!-- https://www.audioblocks.com/royalty-free-audio/cartoon-sound-effects https://freesound.org -->\r\n  </main>\r\n</template>\r\n\r\n<script>\r\n  import { mapGetters, mapActions } from 'vuex'\r\n  import Keyboard from 'vue-keyboard'\r\n  import Echo from '@/components/Echo'\r\n  import ProgressBar from '@/components/ProgressBar'\r\n  import bModalDirective from 'bootstrap-vue/es/directives/modal/modal'\r\n  import bBtn from 'bootstrap-vue/es/components/button/button'\r\n  import bModal from 'bootstrap-vue/es/components/modal/modal'\r\n\r\n  const UNDEFINED = '…'\r\n  const BONUS_TIME = 6000\r\n  const MAX_TIME = 15000\r\n  const COOLDOWN = 1000\r\n  const COOLDOWN_REVERT = 2000\r\n  const LEVELS = [\r\n    {\r\n      maxProgress: 10\r\n    },\r\n    {\r\n      maxProgress: 20\r\n    },\r\n    {\r\n      maxProgress: 40\r\n    },\r\n    {\r\n      maxProgress: 80\r\n    },\r\n    {\r\n      maxProgress: 160\r\n    }\r\n  ]\r\n  const MAX_LEVELS = LEVELS.length - 1\r\n  const MAX_PROGRESS = LEVELS.reduce((a, b) => a + b.maxProgress, 0)\r\n  const CORRECTNESS_RATIO = 5 // one incorrect equals N correct to fix it\r\n\r\n  export default {\r\n    components: {\r\n      Echo,\r\n      Keyboard,\r\n      ProgressBar,\r\n      'b-modal': bModal,\r\n      'b-btn': bBtn\r\n    },\r\n    directives: {\r\n      'b-modal': bModalDirective\r\n    },\r\n    props: {\r\n      session: {\r\n        type: String\r\n      },\r\n      incrementLevel: {\r\n        type: Function,\r\n        required: true\r\n      },\r\n      currentData: {\r\n        type: Function,\r\n        required: true\r\n      },\r\n      setData: {\r\n        type: Function,\r\n        required: true\r\n      }\r\n    },\r\n    data: function () {\r\n      return {\r\n        input: '',\r\n        progress: 0, // always start from the begining of current level\r\n        startTime: new Date().getTime(),\r\n        errorsInSequence: 0,\r\n        errorState: false,\r\n        started: new Date().getTime(),\r\n        tries: 0,\r\n        errors: 0,\r\n        modalText: '',\r\n        ended: false\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapGetters({\r\n        numbers: 'getNumbers',\r\n        complexity: 'getComplexity',\r\n        position: 'getPosition'\r\n      }),\r\n      currentProgressPercent: function () {\r\n        const self = this\r\n\r\n        const currentProgress = (LEVELS.reduce((a, b, index) =>\r\n          a + (index < self.currentData().currentLevel ? b.maxProgress : 0), 0) + self.progress)\r\n\r\n        const percent = Math.floor(currentProgress / MAX_PROGRESS * 100)\r\n\r\n        console.log(currentProgress, percent, '%')\r\n\r\n        return percent\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapActions([\r\n        'generateTask'\r\n      ]),\r\n      changed (value) {\r\n        let vm = this\r\n        const pressed = value[value.length - 1]\r\n\r\n        this.input = pressed // input trim\r\n        valueChange(vm, pressed)\r\n      },\r\n      showModal () {\r\n        this.$refs.myModalRef.show()\r\n      },\r\n      hideModal () {\r\n        this.$refs.myModalRef.hide()\r\n      }\r\n    },\r\n    mounted () {\r\n      let vm = this\r\n\r\n      readSessionDataThenGenerateTask(vm)\r\n\r\n      window.scrollTo(0, document.body.scrollHeight)\r\n\r\n      window.addEventListener('keyup', function (event) {\r\n        // console.log(event)\r\n        valueChange(vm, event.key)\r\n      })\r\n    }\r\n  }\r\n\r\n  function readSessionDataThenGenerateTask (vm) {\r\n    if (!vm.session) {\r\n      generateTask(vm)\r\n      return\r\n    }\r\n\r\n    const session = vm.session.split(',')\r\n    const stats = session.slice(0, -1).slice(1).map(el => Number(el))\r\n    const level = Number(session[0])\r\n    const checkSum = session.slice(-1)[0]\r\n    const actualCheckSum = checksum(level + ',' + stats)\r\n\r\n    if (level > 0 && level <= MAX_LEVELS && stats.length === 10 && actualCheckSum === checkSum) {\r\n      console.log('Session get: Level -> ' + level)\r\n\r\n      // if session start from the begin of saved level\r\n      vm.progress = 0\r\n\r\n      // wait for storage delay\r\n      setTimeout(function () {\r\n        vm.setData({\r\n          currentLevel: level,\r\n          stats\r\n        })\r\n        generateTask(vm)\r\n      }, 50)\r\n    } else if (level === 0 && stats.length === 10 && actualCheckSum === checkSum) {\r\n      // for testing purposes\r\n      console.log('Session get: Level and stats dropped')\r\n\r\n      vm.progress = 0\r\n\r\n      // wait for storage delay\r\n      setTimeout(function () {\r\n        vm.setData({\r\n          currentLevel: level,\r\n          stats\r\n        })\r\n        generateTask(vm)\r\n      }, 50)\r\n    } else {\r\n      console.log('Checksum failed, session ignored')\r\n      generateTask(vm)\r\n    }\r\n  }\r\n\r\n  function checksum (s) {\r\n    const str = '' + JSON.stringify(s)\r\n\r\n    let chk = 0x12345678\r\n    const len = str.length\r\n\r\n    for (let i = 0; i < len; i++) {\r\n      chk += (str.charCodeAt(i) * (i + 1))\r\n    }\r\n\r\n    return (chk & 0xffffffff).toString(16)\r\n  }\r\n\r\n  function rewriteLocation (vm) {\r\n    let string = '' + vm.currentData().currentLevel\r\n    const getStats = vm.currentData().stats\r\n\r\n    for (let i = 0; i < 10; i++) {\r\n      string += ',' + (getStats[i] || '0')\r\n    }\r\n\r\n    window.location.replace('#' + string + ',' + checksum(string))\r\n  }\r\n\r\n  function valueChange (vm, value) {\r\n    const POSSIBLE_KEYS = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'Backspace', 'Delete']\r\n    const DELETE_KEYS = ['Backspace', 'Delete']\r\n\r\n    if (POSSIBLE_KEYS.includes(value)) {\r\n      const elem = vm.numbers[vm.position[0]][vm.position[1]]\r\n\r\n      if (elem.value && elem.correctValue && elem.value !== elem.correctValue) {\r\n        if (DELETE_KEYS.includes(value)) {\r\n          elem.value = UNDEFINED\r\n          elem.class = 'question'\r\n\r\n          return\r\n        }\r\n\r\n        check(vm, value, elem)\r\n      }\r\n    }\r\n  }\r\n\r\n  function check (vm, value, elem) {\r\n    const isTrueAnswer = value === elem.correctValue\r\n\r\n    elem.value = value\r\n    elem.class = isTrueAnswer ? 'correct' : 'incorrect'\r\n    vm.$refs[isTrueAnswer ? 'audioOk' : 'audioErr'].play()\r\n\r\n    if (isTrueAnswer) {\r\n      complete(vm, elem)\r\n    } else {\r\n      error(vm, elem)\r\n    }\r\n  }\r\n\r\n  function complete (vm, elem) {\r\n    const getStats = vm.currentData().stats\r\n    const newValue = Math.floor((getStats[elem.correctValue] - 1 / CORRECTNESS_RATIO) * 10) / 10\r\n    const timDiff = new Date().getTime() - vm.startTime\r\n\r\n    getStats[elem.correctValue] = newValue > 0 ? newValue : 0\r\n\r\n    vm.tries++\r\n    vm.errorState = false\r\n\r\n    progressUp(vm, timDiff)\r\n\r\n    setTimeout(function () {\r\n      // extra task if too many errors on ordinary lask\r\n      vm.errorsInSequence = vm.errorsInSequence > 1 && vm.complexity <= 1 ? 1 : 0\r\n      vm.startTime = new Date().getTime()\r\n\r\n      generateTask(vm)\r\n    }, COOLDOWN)\r\n  }\r\n\r\n  function error (vm, elem) {\r\n    // @todo place some help behavior here\r\n    const getStats = vm.currentData().stats\r\n\r\n    getStats[elem.correctValue]++\r\n\r\n    revertLater(vm, elem)\r\n\r\n    vm.tries++\r\n    vm.errors++\r\n    vm.errorsInSequence++\r\n  }\r\n\r\n  function revertLater (vm, elem) {\r\n    vm.errorState = true\r\n\r\n    setTimeout(function () {\r\n      if (vm.errorState) {\r\n        elem.value = UNDEFINED\r\n        elem.class = 'question'\r\n        vm.errorState = false\r\n      }\r\n    }, COOLDOWN_REVERT)\r\n  }\r\n\r\n  function generateTask (vm) {\r\n    console.log('tries', vm.tries, 'errors', vm.errors, Math.round(vm.errors / (vm.tries || 1) * 100) + '%')\r\n    vm.generateTask({currentLevel: vm.currentData().currentLevel, maxLevel: MAX_LEVELS, stats: vm.currentData().stats})\r\n  }\r\n\r\n  function progressUp (vm, timDiff) {\r\n    // zero progress after an error\r\n    const multiplier = (vm.errorsInSequence > 0 ? 0\r\n        : (timDiff >= MAX_TIME ? 0\r\n            : (timDiff < BONUS_TIME ? 1 + Math.round(BONUS_TIME / timDiff) : 1)\r\n        )\r\n    )\r\n\r\n    vm.progress += Math.floor(multiplier * vm.complexity * 10) / 10\r\n\r\n    levelUpIfNeeded(vm)\r\n\r\n    console.log(vm.progress, vm.currentData().currentLevel, multiplier, vm.complexity,\r\n      Math.floor(timDiff / BONUS_TIME), vm.errorsInSequence)\r\n  }\r\n\r\n  function levelUpIfNeeded (vm) {\r\n    const currentLevel = vm.currentData().currentLevel\r\n    const maxProgress = LEVELS[currentLevel].maxProgress\r\n\r\n    if (vm.progress > maxProgress && currentLevel < LEVELS.length - 1) {\r\n      vm.progress -= maxProgress\r\n      // next level reached\r\n      vm.modalText = 'Следующий уровень! Поздравляем!'\r\n      vm.showModal()\r\n      vm.incrementLevel()\r\n      rewriteLocation(vm)\r\n    } if (vm.progress > maxProgress && currentLevel < LEVELS.length) {\r\n      // max progress reached\r\n      if (!vm.ended) {\r\n        vm.ended = true\r\n        vm.modalText = 'Пройти всю программу обучения за ' +\r\n          Math.round((new Date().getTime() - vm.started) / 1000 / 60 + 1) +\r\n            ' мин. это прекрасный результат!'\r\n        vm.showModal()\r\n      }\r\n      vm.progress = maxProgress\r\n      rewriteLocation(vm)\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n* {\r\n    -webkit-tap-highlight-color: rgba(255, 255, 255, 0) !important;\r\n    -webkit-focus-ring-color: rgba(255, 255, 255, 0) !important;\r\n    outline: none !important;\r\n}\r\nhtml {\r\n  font-size:2vw;\r\n}\r\nmain {\r\n  height: 100vh;\r\n  width: 100%;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n  display: -webkit-box;      /* OLD - iOS 6-, Safari 3.1-6 */\r\n  display: -moz-box;         /* OLD - Firefox 19- (buggy but mostly works) */\r\n  display: -webkit-flex;     /* NEW - Chrome */\r\n  display: flex;             /* NEW, Spec - Opera 12.1, Firefox 20+ */\r\n  justify-content: center;\r\n  align-items: center;\r\n  overflow: auto;\r\n}\r\nmain div {\r\n  color: black;\r\n  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);\r\n  font-family: \"Roboto\", Arial, sans-serif;\r\n  font-size: 8rem;\r\n  padding: 20px;\r\n  text-align: center;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  line-height: 1;\r\n}\r\nmain > div {\r\n  width: 80%;\r\n}\r\nmain .clear {\r\n  display: block;\r\n  position: absolute;\r\n}\r\nmain .clear .modal-dialog {\r\n  max-width: 700px;\r\n}\r\nmain .clear div {\r\n  white-space: normal;\r\n}\r\n.modal-dialog header {\r\n  width: 90%;\r\n}\r\n.modal-header {\r\n  border-bottom: 0;\r\n}\r\nmain > div:after {\r\n  visibility: hidden;\r\n  display: block;\r\n  font-size: 0;\r\n  content: \" \";\r\n  clear: both;\r\n  height: 0;\r\n}\r\nmain div span {\r\n  display: inline-block;\r\n  width: 5rem;\r\n  max-width: 5rem;\r\n  min-width: 5rem;\r\n  overflow: hidden;\r\n}\r\nmain div span.sign {\r\n  width: 7rem;\r\n  max-width: 7rem;\r\n  min-width: 7rem;\r\n}\r\nmain div span.empty {\r\n  width: 0;\r\n  max-width: 0;\r\n  min-width: 0;\r\n  overflow-x: hidden;\r\n}\r\nmain div span.correct {\r\n  color: rgb(37, 218, 37);\r\n}\r\nmain div span.incorrect {\r\n  color: #ff0000;\r\n}\r\nmain div span.question {\r\n  color: #00abff;\r\n}\r\ndiv.keyboard {\r\n  position: absolute;\r\n  bottom: 0.5rem;\r\n  width: 100%;\r\n  z-index: 10;\r\n}\r\ndiv.keyboard div {\r\n  line-height: 0.5;\r\n}\r\n.vue-keyboard-key {\r\n  font-size: 2rem !important;\r\n  padding: 1rem !important;\r\n  background: #00abff !important;\r\n  color: #fff !important;\r\n  border: solid #00abff 2px !important;\r\n  border-radius: 8px !important;\r\n  font-weight: 500 !important;\r\n}\r\n.vue-keyboard-row {\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  font-size: 4rem;\r\n}\r\n.vue-keyboard-key:hover {\r\n  background: #009ae6 !important;\r\n}\r\n.vue-keyboard-key:active, .vue-keyboard-key:focus {\r\n  background: #00abff !important;\r\n}\r\n\r\n@media screen and (max-width: 480px) and (orientation: portrait) {\r\n  main div {\r\n    width: 100%;\r\n    padding: 0;\r\n  }\r\n  div.keyboard {\r\n    bottom: 14rem;\r\n  }\r\n  .modal button {\r\n    line-height: 5vh;\r\n  }\r\n}\r\n@media screen and (max-width: 720px) and (orientation: landscape) {\r\n  main div {\r\n    font-size: 6rem;\r\n    line-height: 2;\r\n  }\r\n  main div span {\r\n    width: 4rem;\r\n    max-width: 4rem;\r\n    min-width: 4rem;\r\n  }\r\n  main div span.sign {\r\n    width: 5.5rem;\r\n    max-width: 5.5rem;\r\n    min-width: 5.5rem;\r\n  }\r\n  main div span.question {\r\n    color: #007bff;\r\n  }\r\n  main > div {\r\n    padding: 6vw;\r\n  }\r\n  div.keyboard {\r\n    bottom: -7vh;\r\n  }\r\n  div.keyboard div {\r\n    line-height: 0.3;\r\n  }\r\n  .modal button {\r\n    line-height: 5vh;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// HomePage.vue?588f326d"],"sourceRoot":""}